import{j as e,G as I,n as y,M as f,C as G,c as m,o as S,p as v,q as A,N as M,s as O,t as T,v as k,w as E,x as F,u as W,i as P,r as d,y as B,z as R,B as _,D as w,F as z,E as u,k as N,J as D,K as h}from"./index-DO-u16K6.js";const J=({children:s,isOpen:r,onClose:t})=>r?e.jsxs(e.Fragment,{children:[e.jsx(I,{isModalOpen:r}),e.jsx(y,{onClick:t,children:e.jsxs(f,{onClick:n=>n.stopPropagation(),children:[e.jsx(G,{onClick:t,children:e.jsx(m.Close,{})}),e.jsx(S,{children:s})]})})]}):null,U=v,L=({children:s})=>e.jsx(A,{children:s}),Y=(s,r)=>s.length>r?s.slice(0,r)+"...":s,j=s=>s?s[0].toUpperCase()+s.slice(1):"",b=(s,r)=>s?r>1e3?{width:"20px",height:"30px"}:{width:"12px",height:"16px"}:r>1e3?{width:"10px",height:"14px"}:{width:"8px",height:"12px"},q=(s,r)=>s?r>900?50:20:r<=900&&r>650||r<450?17:30,H=({text:s,src:r})=>e.jsx(M,{to:E.IMAGES+"/"+s,children:e.jsx(O,{src:r,children:e.jsx(T,{children:e.jsx(k,{children:s})})})}),C=({src:s,text:r,id:t,isModal:n})=>{const o=F(),p=W(),l=U(P.getFavorites),g=l.some(i=>i.id===t),x=i=>{i.stopPropagation(),p(N.toggleFavorite(t))};d.useEffect(()=>{localStorage.setItem("favorites",JSON.stringify(l))},[l]);const c={...b(n,o),fill:g?u.colors.orange:"none",color:u.colors.orange};return e.jsx(B,{src:s,children:e.jsxs(R,{children:[e.jsx(_,{maxWidth:n&&o>900?"400px":"200px",children:Y(r,q(n,o))}),e.jsx(w,{onClick:x,children:e.jsx(z,{children:e.jsx(m.FavoritesAlt,{...c})})})]})})},Q=({variant:s="image",array:r})=>{const[t,n]=d.useState(!1),[o,p]=d.useState(),l=c=>{p(c),n(!t)},x=(({variant:c,array:i})=>{switch(c){case"category":return i.map(a=>e.jsx(h,{onClick:()=>n(!t),children:e.jsx(H,{src:a.IMG,text:a.CATEGORY})},a.CATEGORY));case"image":return i.map(a=>e.jsx(h,{onClick:()=>l(a),children:e.jsx(C,{src:a.urls.small,text:j(a.description||a.alt_description),id:a.id,isModal:!1})},a.id))}})({variant:s,array:r});return e.jsxs(D,{children:[t&&e.jsx(J,{isOpen:t,onClose:()=>n(!t),children:o&&e.jsx(C,{src:o.urls.full,text:j(o.description||o.alt_description),id:o.id,isModal:!0})}),x]})};export{L as C,Q as G,U as u};
