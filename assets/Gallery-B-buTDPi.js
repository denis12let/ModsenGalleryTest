import{j as e,G as y,n as f,M as v,C as G,c as m,o as A,p as S,N as M,q as O,s as T,t as k,v as F,w as E,x as W,y as P,z as B,B as R,D as _,F as w,E as h,k as u,r as g,J as z,K as j}from"./index-Cepq7muX.js";const D=({children:s,isOpen:r,onClose:t})=>r?e.jsxs(e.Fragment,{children:[e.jsx(y,{isModalOpen:r}),e.jsx(f,{onClick:t,children:e.jsxs(v,{onClick:n=>n.stopPropagation(),children:[e.jsx(G,{onClick:t,children:e.jsx(m.Close,{})}),e.jsx(A,{children:s})]})})]}):null,H=({children:s})=>e.jsx(S,{children:s}),N=(s,r)=>s.length>r?s.slice(0,r)+"...":s,C=s=>s?s[0].toUpperCase()+s.slice(1):"",J=(s,r)=>s?r>1e3?{width:"20px",height:"30px"}:{width:"12px",height:"16px"}:r>1e3?{width:"10px",height:"14px"}:{width:"8px",height:"12px"},U=(s,r)=>s?r>900?50:20:r<=900&&r>650||r<450?17:30,Y=({text:s,src:r})=>e.jsx(M,{to:F.IMAGES+"/"+s,children:e.jsx(O,{src:r,children:e.jsx(T,{children:e.jsx(k,{children:s})})})}),b=()=>E(),I=({src:s,text:r,id:t,isModal:n})=>{const o=W(),c=b(),p=JSON.parse(localStorage.getItem("favorites")||"[]").some(i=>i.id===t),x=i=>{i.stopPropagation(),c(p?u.unsetFavorite(t):u.setFavorite(t))},l={...J(n,o),fill:p?h.colors.orange:"none",color:h.colors.orange};return e.jsx(P,{src:s,children:e.jsxs(B,{children:[e.jsx(R,{maxWidth:n&&o>900?"400px":"200px",children:N(r,U(n,o))}),e.jsx(_,{onClick:x,children:e.jsx(w,{children:e.jsx(m.FavoritesAlt,{...l})})})]})})},K=({variant:s="image",array:r})=>{const[t,n]=g.useState(!1),[o,c]=g.useState(),d=l=>{c(l),n(!t)},x=(({variant:l,array:i})=>{switch(l){case"category":return i.map(a=>e.jsx(j,{onClick:()=>n(!t),children:e.jsx(Y,{src:a.IMG,text:a.CATEGORY})},a.CATEGORY));case"image":return i.map(a=>e.jsx(j,{onClick:()=>d(a),children:e.jsx(I,{src:a.urls.small,text:C(a.description||a.alt_description),id:a.id,isModal:!1})},a.id))}})({variant:s,array:r});return e.jsxs(z,{children:[t&&e.jsx(D,{isOpen:t,onClose:()=>n(!t),children:o&&e.jsx(I,{src:o.urls.full,text:C(o.description||o.alt_description),id:o.id,isModal:!0})}),x]})};export{H as C,K as G,b as u};
